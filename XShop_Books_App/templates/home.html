{% load static %}
<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="csrf-token" content="{{ csrf_token }}">
        <meta name="user-status" content="{{ request.user.is_authenticated }}">
        <title>XShop Books - Online shop of books</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Mukta:wght@400;500;600;700&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
        <link rel="shortcut icon" href="{% static 'images/logo.ico' %}" type="image/x-icon">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="{% static 'css/home.min.css' %}">
    </head>
    <body>
        <header id="main-header">
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <a class="navbar-brand" href="{% url 'home' %}">
                        <img src="{% static 'images/logo.png' %}" alt="Logo of XShop Books">
                        XShop
                    </a>
                    <div id="navbar-options" class="position-relative">
                        <button type="button" id="user-account-btn" class="btn-icon me-md-2">
                            <i class="bi bi-person-circle"></i>
                        </button>
                        <button type="button" id="search-books-btn" class="btn-icon">
                            <i class="bi bi-search"></i>
                        </button>
                        {% if request.user.is_authenticated %}
                        <div id="user-account-options" class="position-absolute rounded-3 py-3 text-center py-lg-0">
                            <nav>
                                <a href="{% url 'account' %}" class="w-100 d-flex align-items-start p-2 p-md-3">
                                    <i class="bi bi-person-circle me-2"></i>
                                    <span>My datas</span>
                                </a>
                                <a href="{% url 'account' %}" class="w-100 d-flex align-items-start p-2 p-md-3">
                                    <i class="bi bi-clock-fill me-2"></i>
                                    <span>History</span>
                                </a>
                                <a href="{% url 'account' %}" class="w-100 d-flex align-items-start p-2 p-md-3">
                                    <i class="bi bi-headset me-2"></i>
                                    <span>Support</span>
                                </a>
                                <a href="{% url 'logout' %}" class="w-100 d-flex align-items-start p-2 p-md-3">
                                    <i class="bi bi-box-arrow-left me-2"></i>
                                    <span>Logout</span>
                                </a>
                            </nav>
                        </div>
                        {% else %}
                        <div id="user-account-options" class="position-absolute rounded-3 p-3 text-center">
                            Login or register
                            <div class="options d-flex gap-2 mt-2">
                                <a href="{% url 'register' %}">
                                    <button type="button" class="btn-system px-2 py-1 rounded-3 d-flex align-items-center">
                                        <i class="bi bi-person-plus-fill me-1"></i>
                                        <span>Register</span>
                                    </button>
                                </a>
                                <a href="{% url 'login' %}">
                                    <button type="button" class="btn-system px-2 py-1 rounded-3 d-flex align-items-center">
                                        <i class="bi bi-box-arrow-in-right me-1"></i>
                                        <span>Login</span>
                                    </button>
                                </a>
                            </div>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </nav>
        </header>
        <main class="mx-xl-auto">
            <div id="search-area-overlay" class="position-absolute start-0 top-0 d-md-flex justify-content-md-center flex-md-column">
                <form id="search-area" class="input-group px-3 py-5">
                    <input type="search" name="search-book" id="search-book-field" class="form-control rounded-pill p-3" placeholder="Search for books...">
                </form>
            </div>
            <div id="carousel-promo" class="carousel carousel-fade mx-lg-auto" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carousel-promo" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carousel-promo" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carousel-promo" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="{% static 'images/xshop - carousel image 1.png' %}" class="d-block w-100" alt="Slide 1">
                    </div>
                    <div class="carousel-item">
                        <img src="{% static 'images/xshop carousel image 2.png' %}" class="d-block w-100" alt="Slide 2">
                    </div>
                    <div class="carousel-item">
                        <img src="{% static 'images/xshop carousel image 3.png' %}" class="d-block w-100" alt="Slide 3">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carousel-promo" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carousel-promo" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
            <div id="carousel-shop-features" class="w-100 my-4 px-2">
                <div id="slide-track" class="d-flex alig-items-start gap-2 gap-md-3">
                    <div class="slide rounded-2 p-2 d-flex align-items-center p-md-3">
                        <i class="bi bi-credit-card-2-front-fill me-2"></i>
                        Secure checkout
                    </div>
                    <div class="slide rounded-2 p-2 d-flex align-items-center p-md-3">
                        <i class="bi bi-truck me-2"></i>
                        Fast delivery
                    </div>
                    <div class="slide rounded-2 p-2 d-flex align-items-center p-md-3">
                        <i class="bi bi-tags-fill me-2"></i>
                        Cheaply prices
                    </div>
                    <div class="slide rounded-2 p-2 d-flex align-items-center p-md-3">
                        <i class="bi bi-shield-fill-check me-2"></i>
                        Protection to consumer
                    </div>
                    <div class="slide rounded-2 p-2 d-flex align-items-center p-md-3">
                        <i class="bi bi-headset me-2"></i>
                        Support 24/24
                    </div>
                </div>
            </div>
            <div id="books-area" class="mt-5 px-3 px-xl-0">
                <h1 class="mb-4 text-md-center">Books</h1>
                <div id="books-container" class="justify-content-md-evenly justify-content-lg-around px-xl-0 justify-content-xl-between"></div>
                <button class="btn-link-system p-0 d-flex align-items-start w-100 justify-content-center my-4 justify-content-lg-start ps-lg-5 ps-xl-0" id="load-more-books-btn" data-status="load">
                    <i class="bi bi-arrow-clockwise me-1"></i>
                    <span>Load more books</span>
                </button>
            </div>
            <div class="w-100 p-3 cta-container d-md-flex flex-md-column gap-md-2 p-md-4">
                <h3 class="mb-3">Lorem ipsum dolor sit amet</h3>
                <p class="mb-3">Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum ea debitis ad asperiores quaerat quasi totam.</p>
                <div id="main-cta-actions">
                    {% if request.user.is_authenticated %}
                    <button type="button" class="btn-system py-2 px-3 mb-3 me-2 rounded-3">
                        <i class="bi bi-envelope-heart-fill me-1"></i>
                        <span>Subscribe newsletter</span>
                    </button>
                    {% else %}
                    <a href="{% url 'register' %}">
                        <button type="button" class="btn-system py-2 px-3 mb-3 me-2 rounded-3">
                            <i class="bi bi-person-plus-fill me-1"></i>
                            <span>Register</span>
                        </button>
                    </a>
                    <a href="{% url 'login' %}">
                        <button type="button" class="btn-system py-2 px-3 mb-3 rounded-3">
                            <i class="bi bi-box-arrow-in-right me-1"></i>
                            <span>Login</span>
                        </button>
                    </a>
                    {% endif %}
                </div>
            </div>
            <div id="shop-cart-cta" class="position-fixed">
                <button type="button" class="p-2 rounded-circle position-relative" id="shopping-cart-btn">
                    <i class="bi bi-cart-fill"></i>
                    <span class="position-absolute rounded-circle d-md-flex align-items-md-center justify-content-md-center">0</span>
                </button>
                <button type="button" data-bs-target="#shopping-cart-modal" data-bs-toggle="modal" class="visually-hidden"></button>
            </div>
            <div class="modal fade" id="shopping-cart-modal" tabindex="-1">
                <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Your cart</h4>
                            <button type="button" data-bs-dismiss="modal">
                                <i class="bi bi-x-lg"></i>
                            </button>
                        </div>
                        <div class="modal-body"></div>
                        <div class="modal-footer"></div>
                    </div>
                </div>
            </div>
            <div class="modal fade" id="product-details-modal" tabindex="-1">
                <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered d-md-block">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Details</h4>
                            <button type="button" data-bs-dismiss="modal">
                                <i class="bi bi-x-lg"></i>
                            </button>
                        </div>
                        <div class="modal-body"></div>
                        <div class="modal-footer">
                            <button type="button" class="btn-system w-100 py-2 px-3 my-2 rounded-3"></button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer class="px-3 py-4 px-md-2">
            <div id="footer-options" class="d-md-flex justify-content-md-between flex-md-row-reverse gap-md-2 justify-content-lg-around">
                <div id="newsletter-area" class="mb-4">
                    <h4>Stay on top of news</h4>
                    <form>
                        <label for="email-field" class="form-label d-block my-2">Subscribe</label>
                        <input type="email" name="email" id="email-field" class="form-control mb-2" placeholder="Enter your best email" required>
                        <button type="submit" class="btn-system py-2 px-3 rounded-3 mt-2">
                            <i class="bi bi-envelope-heart-fill me-1"></i>
                            <span>Subscribe newsletter</span>
                        </button>
                    </form>
                </div>
                <div id="social-area" class="mb-4">
                    <h4>Our social networks</h4>
                    <nav class="w-100 d-flex flex-column gap-2">
                        <a href="#">
                            <i class="bi bi-facebook"></i>
                            <span>Facebook</span>
                        </a>
                        <a href="#">
                            <i class="bi bi-instagram"></i>
                            <span>Instagram</span>
                        </a>
                        <a href="#">
                            <i class="bi bi-twitter-x"></i>
                            <span>Twitter</span>
                        </a>
                        <a href="#">
                            <i class="bi bi-pinterest"></i>
                            <span>Pinterest</span>
                        </a>
                        <a href="#">
                            <i class="bi bi-whatsapp"></i>
                            <span>923 458 745</span>
                        </a>
                    </nav>
                </div>
                <div id="useful-links" class="mb-4">
                    <h4>You can be looking for:</h4>
                    <nav class="w-100 d-flex flex-column gap-2">
                        <a href="#">Terms of use and privacy</a>
                        <a href="#">Licenses</a>
                        <a href="#">Promotions and coupons</a>
                        <a href="#">Complaints and Returns</a>
                    </nav>
                </div>
            </div>
            <div id="copyright-area" class="mt-md-2">
                <p class="mb-0 text-md-center">Copyright &copy; <a href="#">Manassés Ndombele</a></p>
                <p class="mb-0 text-md-center">fullstack web developer freelancer</p>
            </div>
        </footer>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script type="module" src="{% static 'js/home.js' %}"></script>
    </body>
</html>
